# ğŸ¯ PROMPT REFACTORISATION MIXINS 

## âš ï¸ EXÃ‰CUTION STRICTE - AUCUNE INTERPRÃ‰TATION
- **Suivre la mÃ©thode EXACTEMENT** dans l'ordre spÃ©cifiÃ©
- **Ne pas demander de clarifications** sur les choix
- **ImplÃ©menter tel que spÃ©cifiÃ©** sans modification
- **Livraison fichier par fichier** pour validation avant suite
- **Validation = pixel-perfect uniquement** (rendu identique)
- **Aucune invention** de mixins non spÃ©cifiÃ©s

## ğŸ¯ MISSION
Refactoriser l'architecture SCSS existante selon philosophie "boÃ®te Ã  outils Ã©purÃ©e" : garder mixins assemblage complexe, Ã©liminer micro-mixins inutiles, valeurs en dur dans composants.

## ğŸ—ï¸ ARCHITECTURE CIBLE

### ğŸ“ Structure Ultra-Simple (2 dossiers)
```
styles/
â”œâ”€â”€ utilities/     â†’ Outils assemblage complexe (â‰¥3 propriÃ©tÃ©s)
â”œâ”€â”€ interface/     â†’ Mixins complets par composant avec suffixe "-full"
â””â”€â”€ index.scss     â†’ Point d'entrÃ©e
```

### ğŸ¯ Principe Fondamental : BOÃTE Ã€ OUTILS Ã‰PURÃ‰E

**Niveau 1 : Outils assemblage complexe (â‰¥3 propriÃ©tÃ©s)**
```scss
@mixin column-center { display + flex-direction + align + justify }
@mixin button-blue { font + colors + padding + hover + disabled... }
@mixin form-auth { labels + inputs + validation + switch tabs... }
```

**Niveau 2 : Assemblages composÃ©s**
```scss
@mixin story-card-full {
  @include column-center;   // Outil complexe rÃ©utilisÃ©
  
  // Valeurs directes (plus de micro-mixins)
  background-color: #1a1d20;
  border: 2px solid #5d889e;
  border-radius: 12px;
  gap: 8px;
  cursor: pointer;
}
```

**Niveau 3 : Component final**
```scss
.story-card { @include story-card-full; }
```

## âœ… MIXINS Ã€ CRÃ‰ER/CONSERVER

### utilities/ (Outils assemblage complexe)

**Layouts (â‰¥3 propriÃ©tÃ©s) :**
- `@mixin column-center` â†’ display + flex-direction + align + justify
- `@mixin layout-chroniques` â†’ container + responsive + grid chroniques
- `@mixin layout-marsball` â†’ container + responsive + grid marsball  
- `@mixin layout-terraformars` â†’ container + responsive + grid terraformars
- `@mixin layout-archives` â†’ container + responsive + grid archives

**Backgrounds (Ã©viter confusion couleurs) :**
- `@mixin background-1` â†’ #121416 (fond principal app)
- `@mixin background-2` â†’ #1a1d20 (fond cards/panels)
- `@mixin background-3` â†’ #2a2d30 (fond sections)

**Boutons (assemblage complexe) :**
- `@mixin button-blue` â†’ font + colors + padding + hover + disabled (bleu #5d889e)
- `@mixin button-red` â†’ font + colors + padding + hover + disabled (orange #b55a44)

**Forms (assemblage complexe) :**
- `@mixin form-auth` â†’ switch tabs + inputs + validation + messages
- `@mixin form-story` â†’ crÃ©ation/Ã©dition histoires  
- `@mixin form-archive` â†’ ajout archives
- `@mixin form-item` â†’ ajout items

**Responsive (dÃ©placements/ajustements) :**
- `@mixin responsive-main` â†’ ajustements globaux containers
- `@mixin responsive-section` â†’ ajustements contenu sections

**States (assemblage complexe) :**
- `@mixin loading-state` â†’ spinner + centrage + padding + couleurs
- `@mixin error-state` â†’ message + couleurs + centrage + padding
- `@mixin empty-state` â†’ message + centrage + bouton action

**Effects (existant) :**
- `@mixin title-typing` â†’ CONSERVER tel quel (dÃ©jÃ  prÃªt)

### interface/ (Mixins complets par composant)

**Composants chroniques :**
- `@mixin story-card-full` â†’ Card complÃ¨te avec avatar + textes + hover
- `@mixin chroniques-full` â†’ Page complÃ¨te avec header + description + grid
- `@mixin storyboard-full` â†’ Dashboard avec tabs + grille + scroll
- `@mixin story-detail-full` â†’ Page dÃ©tail avec navigation + like

## âŒ Ã‰LIMINER (micro-mixins inutiles)
- `gap-8`, `radius-12`, `pointer`, `transition-3` â†’ 1 propriÃ©tÃ© = valeur directe
- `border-2-blue`, `background-2` â†’ remplacer par valeurs directes
- Variables sur-utilisÃ©es `$blue`, `$spacing-20` â†’ valeurs directes

## ğŸ”§ MÃ‰THODE DE MIGRATION

### Phase 1 : Audit Reconstitution
1. **Analyser story-card-base existant** â†’ lister tous mixins inclus
2. **Retrouver valeurs exactes** en dur pour chaque propriÃ©tÃ©  
3. **CrÃ©er story-card-full** avec valeurs directes + outils complexes
4. **Tester pixel-perfect** avant/aprÃ¨s

### Phase 2 : CrÃ©ation BoÃ®te Ã€ Outils
1. **CrÃ©er utilities/** â†’ Outils assemblage complexe listÃ©s
2. **CrÃ©er interface/story-card-full** â†’ Premier mixin complet
3. **Migrer story-card.component.scss** â†’ 1 ligne include
4. **Validation visuelle** â†’ Rendu identique

### Phase 3 : Livraison SÃ©quentielle  
1. **1 fichier par message** pour rÃ©vision
2. **Attendre validation** avant fichier suivant
3. **Continuer** uniquement aprÃ¨s OK explicite

## ğŸ“‹ EXEMPLE TRANSFORMATION RÃ‰ELLE

### AVANT (actuel)
```scss
// story-card.component.scss - 15+ lignes + imports multiples
@use "core/variables/variables" as *;
@use 'mixins/interface/interface' as *;

.story-card {
  @include story-card-base;
  
  .avatar-small {
    @include avatar($avatar-small);
  }
  
  .user-data {
    .username {
      @include username($username-default);
    }
    .user-description {
      @include user-description($description-default);
    }
  }
  
  .story-data {
    .story-title {
      @include story-title($story-card-title);
    }
    .publish-date {
      @include publish-date;
      font-size: 15px;
    }
  }
}
```

### APRÃˆS (Ã©purÃ©)
```scss
// story-card.component.scss - 1 ligne + import simple
.story-card { 
  @include story-card-full; 
}
```

```scss
// interface/_story-card.scss
@mixin story-card-full {
  @include column-center;   // Outil complexe rÃ©utilisÃ©
  
  // Valeurs directes (plus de micro-mixins)
  background-color: #1a1d20;
  border: 2px solid #5d889e;
  border-radius: 12px;
  gap: 8px;
  padding: 24px;
  transition: all 0.3s ease;
  cursor: pointer;
  width: 320px;
  height: 240px;

  &:hover {
    border: 2px solid #b55a44;
  }

  .avatar-small {
    width: 90px;
    height: 90px;
    border: 2px solid #5d889e;
    border-radius: 50%;
  }

  .username {
    font-size: 18px;
    color: #5d889e;
    font-weight: 700;
    text-align: center;
  }

  .user-description {
    font-size: 12px;
    color: #d0d0d0;
    font-style: italic;
    text-align: center;
  }

  .story-title {
    font-size: 16px;
    color: #ffffff;
    font-weight: 600;
    text-align: center;
  }

  .publish-date {
    font-size: 15px;
    color: #5d889e;
    opacity: 0.8;
    text-align: center;
  }
}
```

## ğŸ“Š MÃ‰TRIQUES SUCCÃˆS
- **90% rÃ©duction** fichiers SCSS (30+ â†’ 2 dossiers)
- **100% Ã©limination** micro-mixins 1 propriÃ©tÃ©  
- **100% fidÃ©litÃ©** visuelle (pixel-perfect)
- **ZÃ©ro rÃ©gression** fonctionnelle
- **Classes HTML inchangÃ©es** (.story-card, .navbar...)

## ğŸ¯ LIVRABLE ATTENDU

### Premier fichier Ã  livrer
**utilities/_layout.scss** avec :
- `@mixin column-center` (reconstituÃ© fidÃ¨lement)
- Validation pixel-perfect avant suite

### Structure finale
```
src/app/styles/
â”œâ”€â”€ utilities/
â”‚   â”œâ”€â”€ _layout.scss      â†’ Layouts + responsive
â”‚   â”œâ”€â”€ _buttons.scss     â†’ Boutons bleu/rouge
â”‚   â”œâ”€â”€ _forms.scss       â†’ Forms complexes
â”‚   â”œâ”€â”€ _backgrounds.scss â†’ 3 backgrounds
â”‚   â””â”€â”€ _states.scss      â†’ Loading/error/empty
â”œâ”€â”€ interface/
â”‚   â””â”€â”€ _story-card.scss  â†’ @mixin story-card-full
â””â”€â”€ index.scss
```

**COMMENCER PAR : utilities/_layout.scss avec @mixin column-center**