# Prompt - Gestion CRUD par ID et URL par Title

## üìã **R√®gle Fondamentale**

Un objet poss√®de **deux propri√©t√©s distinctes** avec **deux usages distincts** :

```typescript
const story = { 
  id: 42,                           // ‚Üê CRUD (number)
  title: "Mon aventure sur Mars"   // ‚Üê URL (string)
}
```

## üéØ **S√©paration des Responsabilit√©s**

### **CRUD = ID (number)**
- Toutes les op√©rations base de donn√©es utilisent l'`id`
- Cr√©ation, lecture, mise √† jour, suppression
- Identification technique et performance

### **URL = TITLE (string)**
- Toutes les URLs utilisent le `title`
- Affichage utilisateur convivial
- Navigation et partage

## üîß **Impl√©mentation**

### **1. URLs avec TITLE**
```typescript
// Routes
{
  path: ':username/:title',  // ‚Üê title dans URL
  loadComponent: () => import('./story/story').then(m => m.Story)
}

// Navigation
router.navigate(['/chroniques', username, story.title]); // ‚Üê title direct
```

### **2. CRUD avec ID**
```typescript
// Services - Op√©rations base de donn√©es
await this.http.get(`/api/stories/${story.id}`);        // ‚Üê CRUD avec ID
await this.http.put(`/api/stories/${story.id}`, data);  // ‚Üê CRUD avec ID  
await this.http.delete(`/api/stories/${story.id}`);     // ‚Üê CRUD avec ID
```

### **3. R√©solution URL ‚Üí CRUD**
```typescript
// Backend endpoint pour r√©soudre title ‚Üí id
GET /api/stories/by-title/:username/:title
// ‚Üí Trouve l'histoire par username + title
// ‚Üí Retourne l'objet complet avec id pour CRUD
```

## ‚ö†Ô∏è **R√®gles Strictes**

### **‚úÖ √Ä FAIRE**
- Utiliser directement `story.title` dans l'URL
- Utiliser directement `story.id` pour le CRUD
- Pas de transformation, pas de g√©n√©ration

### **‚ùå √Ä NE PAS FAIRE**
- G√©n√©rer des slugs automatiquement
- Transformer le title pour l'URL
- Utiliser l'id dans l'URL
- Utiliser le title pour le CRUD

## üìä **Exemple Concret**

```typescript
const story = { 
  id: 42,
  title: "Mon aventure sur Mars",
  content: "Il √©tait une fois...",
  userId: 1
}

// URL g√©n√©r√©e
/chroniques/sulfuro/Mon%20aventure%20sur%20Mars  // ‚Üê title direct

// CRUD
PUT /api/stories/42     // ‚Üê id pour CRUD
DELETE /api/stories/42  // ‚Üê id pour CRUD
GET /api/stories/42     // ‚Üê id pour CRUD
```

## üéØ **Objectif Final**

- **URLs lisibles** : `/chroniques/sulfuro/Mon aventure sur Mars`
- **CRUD efficace** : Op√©rations rapides avec ID num√©rique
- **S√©paration claire** : Technique (id) vs Utilisateur (title)
- **Simplicit√©** : Utilisation directe des propri√©t√©s sans transformation

---

**R√©sum√©** : `id` = CRUD, `title` = URL. Point final.