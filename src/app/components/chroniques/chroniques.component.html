<div class="chroniques-container">
  <div class="header">
    <h2 class="terminal-effect">
      <span class="typed-text">{{ displayedTitle() }}</span>
      <span class="typing-cursor cursor-chroniques" [class.hidden]="!showCursor()">|</span>
    </h2>
    <p>Bienvenue dans un univers de fiction apocalyptique et dystopique.</p>
    <p>Les terraformers y racontent leurs aventures sur la plan√®te rouge.</p>
    <p>D√©couvrez les histoires de nos √©crivains et plongez dans leurs r√©cits.</p>
  </div>

  @if (loading()) {
  <div class="loading-state">
    <div class="loading-spinner"></div>
    <p>Chargement des chroniques martiennes...</p>
  </div>
  }

  @else if (recentAuthors().length > 0) {
  <div class="writers-grid">
    @for (author of recentAuthors(); track author.id) {
      <app-story-card 
        [story]="{
          id: author.latestStory.id,
          title: author.latestStory.title,
          publishedAt: author.latestStory.publishedAt,
          user: {
            id: author.id,
            username: author.username,
            description: author.description,
            avatar: author.avatar
          }
        }"
        displayMode="compact"
        [showAuthor]="true"
        (onCardClick)="navigateToStory($event.id)">
      </app-story-card>
    }
  </div>
  }

  @else {
  <div class="empty-state">
    <div class="empty-icon">üìñ</div>
    <h3>Aucune chronique disponible</h3>
    <p>Les aventures martiennes n'ont pas encore commenc√©...</p>
    <button class="retry-btn" (click)="refreshAuthors()">
      Actualiser
    </button>
  </div>
  }
</div>