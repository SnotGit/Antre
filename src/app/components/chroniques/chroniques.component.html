<!-- chroniques.component.html -->
<div class="chroniques-container">
  <div class="header">
    <h2 class="terminal-effect">Les Chroniques de Mars <span class="cursor"></span></h2>
    <p>Bienvenue dans un univers de fiction apocalyptique et dystopique.</p>
    <p>Les terraformers y racontent leurs aventures sur la plan√®te rouge.</p>
    <p>D√©couvrez les histoires de nos √©crivains et plongez dans leurs r√©cits.</p>
  </div>

  <!-- √âtat de chargement -->
  @if (loading()) {
  <div class="loading-state">
    <div class="loading-spinner"></div>
    <p>Chargement des chroniques martiennes...</p>
  </div>
  }

  <!-- Grille des auteurs -->
  @else if (recentAuthors().length > 0) {
  <div class="writers-grid">
    @for (author of recentAuthors(); track author.id) {
    <div class="writer-card" (click)="navigateToStory(author.latestStory.id)">
      <div class="writer-avatar" [style.background-image]="'url(http://localhost:3000' + author.avatar + ')'"></div>
      <div class="writer-info">
        <h3>{{ author.username }}</h3>
        <p class="author-description">{{ author.description }}</p>
        <p class="latest-story">{{ author.latestStory.title }}</p>
        <span class="story-date">{{ author.latestStory.publishedAt | date:'dd/MM/yyyy' }}</span>
      </div>
    </div>
    }
  </div>
  }

  <!-- √âtat vide -->
  @else {
  <div class="empty-state">
    <div class="empty-icon">üìñ</div>
    <h3>Aucune chronique disponible</h3>
    <p>Les aventures martiennes n'ont pas encore commenc√©...</p>
    <button class="retry-btn" (click)="refreshAuthors()">
      Actualiser
    </button>
  </div>
  }
</div>