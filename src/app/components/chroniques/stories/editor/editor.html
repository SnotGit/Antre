<div class="container">

  <div class="header">
    <h1 class="header-title" [class.typing]="typing()">
      {{ headerTitle() }}
    </h1>
    <div class="back-button">
      <button class="btn" (click)="goBack()">
        <span>← Retour</span>
      </button>
    </div>
  </div>  

  <div class="card-editor">

    <div class="field-title">
      <label>Titre de l'histoire</label>
      <input type="text" [(ngModel)]="storyData().title" placeholder="Exemple : Brain Operational Security Service et Boris la pancarte">
    </div>

    <div class="field-content">
      <label>Texte</label>
      <textarea [(ngModel)]="storyData().content" placeholder="Exemple : Observation des lumières indigo, niveau 12. Théorie : elles clignotent selon un code. Réalité : c'est juste Sulfuro qui fait de la soudure en bas, quelle ironie cette trappe encore ouverte...">
      </textarea>
    </div>

    <div class="card-footer">
      @if (storyId()) {
        <div class="delete-button">
          <button class="btn delete-btn" (click)="deleteStory()">
            <span>Supprimer</span>
          </button>
        </div>
      } @else {
        <div></div>
      }

      <div class="publish-button">
        <button class="btn" (click)="publishStory()">
          <span>Publier</span>
        </button>
      </div>
    </div>

  </div>

  <app-confirmation-dialog></app-confirmation-dialog>

</div>