<div class="console-container" [ngClass]="{
  'collapsed': !openMenu(),
  'expanded': openMenu()
}">

  <button class="console-toggle" 
          [ngClass]="{ 'expanded': openMenu() }" 
          (click)="toggleMenu()">
    <span class="hamburger-icon">â˜°</span>
    CONSOLE
  </button>

  <div class="console-content">
    
    <div class="console-header">
      <span class="console-title">CONSOLE V3</span>
    </div>

    <div class="console-status">
      <div class="status-line">
        <span>> STATUT:
          <span [class]="`status-${CurrentStatus() === 'CONNECTÃ‰' ? 'online' : 'offline'}`">
            {{ CurrentStatus() }}
          </span>
        </span>
      </div>
      <div class="user-line">
        <span>> UTILISATEUR: {{ CurrentUserName() }}</span>
      </div>
      <div class="access-line">
        <span>> ACCESS-LVL: {{ CurrentUserLevel() }}</span>
      </div>
    </div>

    <div class="console-commands">
      
      @if (isLoggedIn()) {
        
        @if (showAdminActions() && currentUser()?.role === 'admin') {
        <div class="action-group">
          <span class="group-title">> FONCTIONS ADMIN</span>
          <button class="console-btn" (click)="addCategory()">{{ categoryLabel() }}</button>
          <button class="console-btn" (click)="addItem()">{{ itemLabel() }}</button>
        </div>
        }

        @if (showUserActions()) {
        <div class="action-group no-separator">
          <span class="group-title">> FONCTIONS UTILISATEUR</span>
          <button class="console-btn" (click)="newStory()">NOUVELLE HISTOIRE</button>
          <button class="console-btn" (click)="myStories()">MES HISTOIRES</button>
        </div>
        }
        
      }
    </div>

    <div class="console-footer">
      
      @if (isLoggedIn()) {
        <span class="group-title">> PARAMETRES DU COMPTE</span>
        <button class="console-btn" (click)="openAccount()">MON COMPTE</button>
        <button class="console-btn logout" (click)="logout()">DECONNEXION</button>
        
      } @else {
        <span class="group-title">> SYSTÃˆME VERROUILLÃ‰</span>
        <button class="console-btn" (click)="openLogin()">[âš¡] CONNEXION</button>
        <button class="console-btn" (click)="openRegister()">[ðŸ‘¤] INSCRIPTION</button>
      }
      
    </div>
  </div>
</div>