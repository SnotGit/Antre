<div class="user-profile-content">
  <div class="header">
    <div class="header-title">
      <h2 class="title">Profil utilisateur</h2>
    </div>
  </div>

  <div class="form-section">

    <div class="left-section"></div>

    <div class="profile-section">
      <form class="profile-form" (ngSubmit)="saveProfile()" #profileForm="ngForm">
        <div class="avatar-section">
          <div class="avatar-container">
            <div class="avatar-circle" [style.background-image]="AvatarUrl() ? 'url(' + AvatarUrl() + ')' : ''">
            </div>
            <button type="button" class="avatar-upload-btn" (click)="triggerFileInput()">
              Changer
            </button>
          </div>
        </div>

        <div class="form-field">
          <label class="field-label">Nom d'utilisateur</label>
          <input type="text" name="username" [(ngModel)]="username" class="form-input" required minlength="3"
            maxlength="50" [disabled]="loading()">
        </div>

        <div class="form-field">
          <label class="field-label">Description</label>
          <textarea name="description" [(ngModel)]="description" class="form-textarea" 
            maxlength="500" [disabled]="loading()">
            </textarea>
        </div>

        <div class="form-row">
          <div class="form-field">
            <label class="field-label">ID Joueur</label>
            <input type="text" name="playerId" [(ngModel)]="playerId" class="form-input" maxlength="20"
              [disabled]="loading()">
          </div>

          <div class="form-field">
            <label class="field-label">Nombre de jours</label>
            <input type="number" name="playerDays" [(ngModel)]="playerDays" class="form-input" [disabled]="loading()">
          </div>
        </div>

        <div class="form-actions">
          <button type="submit" class="save-btn" [disabled]="loading() || !isProfileValid()">
            @if (loading()) {
            <span class="loading-spinner"></span>
            Sauvegarde en cours...
            } @else {
            Sauvegarder les modifications
            }
          </button>
        </div>
      </form>
    </div>

  </div>

  <input type="file" #fileInput accept="image/*" (change)="onAvatarSelected($event)" style="display: none;">

</div>