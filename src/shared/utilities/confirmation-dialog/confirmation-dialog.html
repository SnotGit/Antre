@if (confirmationService.isVisible()) {
  <div class="confirmation-overlay" (click)="confirmationService.onCancel()">
    <div class="confirmation-dialog" (click)="$event.stopPropagation()">
      
      @if (confirmationService.config(); as config) {
        <div class="dialog-header">
          <h3 class="dialog-title" 
              [class.success]="config.isMessage && !config.isDanger"
              [class.error]="config.isMessage && config.isDanger">
            {{ config.title }}
          </h3>
        </div>

        <div class="dialog-content">
          <p class="dialog-message">{{ config.message }}</p>
          
          @if (config.items && config.items.length > 0) {
          <div class="dialog-items">
            @for (item of config.items; track $index) {
              <div class="dialog-item">{{ item }}</div>
            }
          </div>
          }
          
          @if (config.additionalInfo) {
          <p class="dialog-additional">{{ config.additionalInfo }}</p>
          }
        </div>

        <div class="dialog-actions">
          @if (config.isMessage) {
            <button 
              class="dialog-btn confirm-btn"
              [class.success]="!config.isDanger"
              [class.danger]="config.isDanger"
              (click)="confirmationService.onConfirm()">
              {{ config.confirmText }}
            </button>
          }
          
          @if (!config.isMessage) {
            <button 
              class="dialog-btn cancel-btn" 
              (click)="confirmationService.onCancel()">
              {{ config.cancelText }}
            </button>
            
            <button 
              class="dialog-btn confirm-btn"
              [class.danger]="config.isDanger"
              (click)="confirmationService.onConfirm()">
              {{ config.confirmText }}
            </button>
          }
        </div>
      }

    </div>
  </div>
}